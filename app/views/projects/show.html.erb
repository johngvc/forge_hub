<h1><%=  @project.name %></h1>

<% @project_participants.each do |participant| %>
    <ul>
      <li><%= "#{participant.user.name}" %></li>
      <% if participant.is_founder? %>
        <li><%= "Status: Founder"%></li>
      <% else %>
        <li><%= "Status: Participant" %></li>
      <% end %>
    </ul>
<% end %>

<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" style="width: 180px;">ask to join this project!</button>

<%= link_to project_destroy_path(id: @project.id), method: :delete, data: { confirm: "Are you sure you want to permanently delete this project?" } do %>
  <div class="btn btn-success", style="width: 180px">delete this project!</div>
<% end %>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">send the founders a message asking to join this project</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <%= form_tag project_join_request_do_path(@project), method: :post do %>
        <div class="modal-body">
          <div class="input-group">
            <textarea class="form-control" name="request_message"></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <input type="submit" class="btn btn-success" value="send message">
        </div>
      <% end %>

    </div>
  </div>
</div>
<!-- Modal -->


<% if @join_requests.first.empty?%>
  <p>There are currently no pending requests from users who wish to join the project</p>
<% else %>
  <%= render partial: 'join_request_pending', locals: { project: @project, join_requests: @join_requests.first, number: @number } %>
<% end %>


